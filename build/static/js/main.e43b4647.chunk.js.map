{"version":3,"sources":["utils/api.js","images/__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/DeletePlacePopup.js","components/ImagePopup.js","components/Footer.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","_handleResponse","response","ok","json","Promise","reject","status","this","_address","address","_token","token","_cohortId","cohortId","endpoint","method","body","fetchInit","headers","authorization","fetch","JSON","stringify","then","_makeRequest","userInfo","avatar","cardData","cardID","isLiked","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","type","aria-label","onClick","link","name","length","Main","props","style","backgroundImage","onEditAvatar","about","onEditProfile","onAddCard","cards","map","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","autoComplete","children","buttonText","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","e","preventDefault","current","value","ref","id","placeholder","minLength","required","EditProfilePopup","useState","setName","description","setDescription","useEffect","maxLength","onChange","target","AddPlacePopup","onAddPlace","setLink","DeletePlacePopup","onDeletePlace","ImagePopup","Footer","Date","getFullYear","App","isEditAvatarPopupOpened","setIsEditAvatarPopupOpened","isEditProfilePopupOpened","setIsEditProfilePopupOpened","isAddCardPopupOpened","setIsAddCardPopupOpened","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","setCurrentUser","setCards","closeAllPopups","all","getUserInfo","getInitialCards","userData","catch","error","console","log","Provider","changeLikeCardStatus","newCard","state","c","updateAvatar","user","updateUserInfo","addNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e43b4647.chunk.js","sourcesContent":["class Api {\n  constructor(options) {\n    this._address = options.address;\n    this._token = options.token;\n    this._cohortId = options.cohortId;\n  }\n\n  _handleResponse = (response) => {\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response.status);\n    }\n  }\n\n  _makeRequest ({ endpoint, method, body }) {\n    const fetchInit = {\n      method: method,  \n      headers: {\n        authorization: this._token,\n        'Content-Type': 'application/json'\n      }\n    };\n    return fetch (\n      `${this._address}/${this._cohortId}/${endpoint}`,\n      body ? \n        { ...fetchInit, body: JSON.stringify(body) } \n      : \n        fetchInit\n    )\n    .then (\n      this._handleResponse\n    )\n  }\n\n  getUserInfo () {\n    return this._makeRequest({\n      endpoint: 'users/me', \n      method: 'GET'\n    });\n  }\n  \n  getInitialCards () {\n    return this._makeRequest({\n      endpoint: 'cards', \n      method: 'GET'\n    });\n  }\n\n  updateUserInfo (userInfo) {\n    return this._makeRequest({\n      endpoint: 'users/me', \n      method: 'PATCH',\n      body: userInfo\n    });\n  }\n\n  updateAvatar (avatar) {\n    return this._makeRequest({\n      endpoint: 'users/me/avatar', \n      method: 'PATCH',\n      body: avatar\n    });\n  }\n\n  addNewCard (cardData) {\n    return this._makeRequest({\n      endpoint: 'cards',\n      method: 'POST',\n      body: cardData\n    });\n  }\n\n  changeLikeCardStatus (cardID, isLiked) {\n    return this._makeRequest({\n      endpoint: `cards/likes/${cardID}`, \n      method: `${isLiked ? 'DELETE' : 'PUT'}`\n    });\n  }\n\n  deleteCard (cardID) {\n    return this._makeRequest({\n      endpoint: `cards/${cardID}`, \n      method: 'DELETE'\n    });\n  }\n}\n\nconst api = new Api ({\n  address: 'https://mesto.nomoreparties.co/v1',\n  token: 'c846985c-30b9-4d91-bdf7-4d0b3c99bbf7',\n  cohortId: 'cohort-24',\n})\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/__logo.03b78ada.svg\";","import React from 'react';\nimport logo from '../images/__logo.svg';\n\nfunction Header () {\n  return (\n    <header className=\"header\">\n      <img \n        className=\"header__logo\" \n        src={logo} \n        alt=\"логотип mesto russia\" \n      /> \n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const currentUser = {\n  name: '',\n  about: '',\n  _id: '',\n  avatar: ''\n}\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  const isOwn = card.owner._id === currentUser._id;\n\n  const cardDeleteButtonClassName = (\n    `card__delete-button opacity-transition \n    ${isOwn ? \n      'card__delete-button_visible' : \n      'card__delete-button_hidden'}`\n  ); \n\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (\n    `card__like-button opacity-transition \n    ${isLiked ? \n      'card__like-button_active' : \n      'card__like-button_inactive'}`\n  ); \n\n  function handleClick() {\n    onCardClick(card);\n  };\n  \n  function handleLikeClick() {\n    onCardLike(card);\n  };\n\n  function handleDeleteClick() {\n    onCardDelete(card);\n  };\n\n  return (\n    <article className=\"card\">\n      <button \n        className={`${cardDeleteButtonClassName}`} \n        type=\"button\" \n        aria-label=\"Удалить\" \n        onClick={handleDeleteClick}>\n      </button>\n      <img \n        className=\"card__image\" \n        src={card.link} \n        alt={card.name} \n        onClick={handleClick}\n      />\n      <div className=\"card__main\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__likes-container\">\n          <button \n            className={`${cardLikeButtonClassName}`}\n            type=\"button\" \n            aria-label=\"Оценить\" \n            onClick={handleLikeClick}>\n          </button>\n          <span className=\"card__likes\">{card.likes.length}</span>\n        </div>\n      </div>\n    </article>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport Card from './Card.js';\n\nfunction Main (props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__info-column\">\n          <div \n            className=\"profile__avatar\" \n            style={{ backgroundImage: `url(${currentUser.avatar})` }} \n          >\n            <button \n              onClick={props.onEditAvatar}\n              className=\"profile__avatar-edit-button opacity-transition\"\n              type=\"button\"\n              aria-label=\"Редактировать аватар\">\n            </button>\n            </div>\n            <div className=\"profile__info-container\">\n            <div className=\"profile__user-data-container\">\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\n              <p className=\"profile__profession\">{currentUser.about}</p>\n            </div>\n            <button \n              onClick={props.onEditProfile}\n              className=\"profile__edit-button opacity-transition\" \n              type=\"button\" \n              aria-label=\"Редактировать профиль\">\n            </button>\n            </div>\n        </div>\n        <button \n          onClick={props.onAddCard}\n          className=\"profile__add-card-button opacity-transition\" \n          type=\"button\" \n          aria-label=\"Добавить карточку\">\n        </button>\n      </section>\n      <section className=\"photo-grid\">\n        {props.cards.map((card) => {\n          return (<Card key={card._id} card={card} \n            onCardClick={props.onCardClick} \n            onCardLike={props.onCardLike} \n            onCardDelete={props.onCardDelete}/>)\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main","import React from \"react\";\n\nfunction PopupWithForm (props) {\n  \n  return (\n    <section className=\n      {`popup popup_type_${props.name} \n      ${props.isOpen ? 'popup_opened' : ''}`\n      } \n    >\n      <div className=\"popup__content\">\n        <button \n          className={`popup__close-button opacity-transition`} \n          type=\"button\" \n          aria-label=\"Закрыть\"\n          onClick ={props.onClose}>\n        </button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form \n          className=\"form\" \n          name={props.name}\n          onSubmit={props.onSubmit}\n          noValidate \n          autoComplete=\"off\">\n        {props.children}\n          <button\n            className=\"form__submit-button opacity-transition\" \n            type=\"submit\">\n            {props.buttonText}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup ({\n    isOpen, \n    onClose, \n    onUpdateAvatar\n  }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name='edit-avatar'\n      title='Обновить аватар'\n      buttonText='Сохранить'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"form__section\">\n        <input \n          ref={avatarRef} \n          className=\"form__input\" \n          type=\"url\" \n          id=\"form__input-avatar-link\" \n          name=\"link\" \n          placeholder=\"Ссылка\" \n          minLength=\"0\" \n          required \n        />\n        <span \n          className=\"form__input-error\" \n          id=\"form__input-avatar-link-error\">\n        </span>\n      </section>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup ({\n    isOpen, \n    onClose, \n    onEditProfile\n  }) {\n  const currentUser = \n    React.useContext(CurrentUserContext);\n  const [name, setName] = \n    React.useState(currentUser ? currentUser.name : '');\n  const [description, setDescription] = \n    React.useState(currentUser ? currentUser.about : '');\n\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser, isOpen])\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    onEditProfile({\n      name,\n      about: description,\n    });\n  } \n\n  return (\n    <PopupWithForm\n      name='edit-profile'\n      title='Редактировать профиль'\n      buttonText='Сохранить'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"form__section\">\n        <input \n          className=\"form__input\" \n          id=\"form__input-name\" \n          name=\"nameInput\" \n          type=\"text\" \n          placeholder=\"Имя\" \n          minLength=\"2\" \n          maxLength=\"40\" \n          required \n          value={name || ''} \n          onChange={handleNameChange}\n        />\n        <span \n          className=\"form__input-error\" \n          id=\"form__input-name-error\">\n        </span>\n      </section> \n      <section className=\"form__section\">\n        <input \n          className=\"form__input\" \n          id=\"form__input-profession\" \n          name=\"professionInput\" \n          type=\"text\" \n          placeholder=\"Профессия\" \n          minLength=\"2\" \n          maxLength=\"200\" \n          required \n          value={description || ''} \n          onChange={handleDescriptionChange}\n        />\n        <span \n          className=\"form__input-error\" \n          id=\"form__input-profession-error\">\n        </span>\n      </section>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup ({\n    isOpen, \n    onClose, \n    onAddPlace,\n  }) {\n  const [name, setName] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({name, link});\n  }\n\n  React.useEffect(() => {\n    if (!isOpen) {\n      setName('');\n      setLink('');\n    }\n  }, [isOpen])\n\n  return (\n    <PopupWithForm\n      name='add-card'\n      title='Новое место'\n      buttonText='Создать'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <section className=\"form__section\">\n        <input \n          className=\"form__input\" \n          type=\"text\" \n          id=\"form__input-place-title\" \n          name=\"name\" \n          placeholder=\"Название\" \n          minLength=\"1\" \n          maxLength=\"30\" \n          required \n          value={name || ''} \n          onChange={handleNameChange}\n        />\n        <span \n          className=\"form__input-error\" \n          id=\"form__input-place-title-error\">\n        </span>\n      </section>\n      <section className=\"form__section\">\n        <input \n          className=\"form__input\" \n          type=\"url\" \n          id=\"form__input-place-link\" \n          name=\"link\" \n          placeholder=\"Ссылка\" \n          minLength=\"0\" \n          required \n          value={link || ''} \n          onChange={handleLinkChange}\n        />\n        <span \n          className=\"form__input-error\" \n          id=\"form__input-place-link-error\">\n        </span>\n      </section>\n    </PopupWithForm>\n  )\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeletePlacePopup ({ isOpen, onClose, onDeletePlace, card }) {\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeletePlace(card);\n  }\n\n  return (\n    <PopupWithForm\n      name='delete-card'\n      title='Вы уверены?'\n      buttonText='Да'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    />\n  )\n}\n\nexport default DeletePlacePopup;","function ImagePopup(props) {\n    return (\n      <section \n        className={\n          `popup popup_type_${props.name} \n          ${props.card.link ? 'popup_opened' : ''}`\n        } \n      >\n        <div className=\"popup-preview-card__content\">\n          <button \n            className=\"popup__close-button \n              popup-preview-card__close-button \n              opacity-transition\" \n            type=\"button\" \n            aria-label=\"Закрыть\"\n            onClick ={props.onClose}>\n          </button>\n          <img \n            className=\"popup-preview-card__image\" \n            src={props.card.link} \n            alt={props.card.name} \n          />\n          <h2 className=\"popup-preview-card__title\">\n            {props.card.name}\n          </h2>\n        </div>\n      </section>\n    );\n  }\n  \n  export default ImagePopup;","import React from 'react';\n\nfunction Footer () {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">\n        ©{new Date().getFullYear()} Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\nimport api from '../utils/api.js';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport DeletePlacePopup from './DeletePlacePopup.js';\nimport ImagePopup from './ImagePopup.js';\nimport Footer from './Footer.js';\nimport { CurrentUserContext } from './../contexts/CurrentUserContext.js';\n\nfunction App() {\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpened] = React.useState(false);\n  const [isEditProfilePopupOpened, setIsEditProfilePopupOpened] = React.useState(false);\n  const [isAddCardPopupOpened, setIsAddCardPopupOpened] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cardToDelete, setCardToDelete] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpened(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpened(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddCardPopupOpened(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function handleDeleteCardClick(card) {\n    setCardToDelete(card);\n  }\n\n  function handleUpdateAvatar(avatar) {\n    api.updateAvatar(avatar)\n    .then((userData) => {\n      setCurrentUser(userData);\n      setIsEditAvatarPopupOpened(false);\n    })\n    .catch((error) => console.log(error));\n  }\n\n  function handleEditProfile(user) {\n    api.updateUserInfo(user)\n    .then((userData) => {\n      setCurrentUser(userData);\n      setIsEditProfilePopupOpened(false);\n    })\n    .catch((error) => console.log(error));\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addNewCard(card)\n    .then ((newCard) => {\n      setCards([newCard, ...cards]);\n      setIsAddCardPopupOpened(false);\n    })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((state) => \n          state.map((c) => \n            c._id === card._id ? newCard : c))\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function handleDeletePlaceSubmit(card) {\n    api.deleteCard(card._id)\n      .then((newCard) => {\n        setCards((cards) => \n          cards.filter((c) => \n            c._id !== card._id))\n        setCardToDelete(null);\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function closeAllPopups () {\n    setIsEditAvatarPopupOpened(false);\n    setIsEditProfilePopupOpened(false);\n    setIsAddCardPopupOpened(false);\n    setCardToDelete(null);\n    setSelectedCard(false);\n  }\n\n  React.useEffect(() => {\n    Promise.all([ \n      api.getUserInfo(),\n      api.getInitialCards()\n      ])\n      .then(([userData, cardData]) => {\n        setCurrentUser(userData);\n        setCards(cardData);\n      })\n      .catch((error) => console.log(error));\n  }, []);\n\n  return (\n    <div className=\"page\">\n      <div className=\"page-container\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header />\n          <Main\n            cards={cards}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddCard={handleAddCardClick}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteCardClick}\n          />\n          <EditAvatarPopup \n            isOpen={isEditAvatarPopupOpened} \n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar} \n          /> \n          <EditProfilePopup \n            isOpen={isEditProfilePopupOpened} \n            onClose={closeAllPopups}\n            onEditProfile={handleEditProfile}\n          />\n          <AddPlacePopup \n            isOpen={isAddCardPopupOpened} \n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <DeletePlacePopup \n            isOpen={!!cardToDelete} \n            onClose={closeAllPopups}\n            onDeletePlace={handleDeletePlaceSubmit}\n            card={cardToDelete}\n          />\n          <ImagePopup\n            name='preview-card'\n            onClose={closeAllPopups}\n            card={selectedCard}\n          />\n          <Footer />\n        </CurrentUserContext.Provider>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}